<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <meta name="description" content="Echo Room - EchoVerse Audio presents a powerful musical experience">
  <meta name="theme-color" content="#c5a3ff">
  <title>Echo Room | EchoVerse Audio</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=Playfair+Display:ital,wght@0,400;0,700;1,400&display=swap" rel="stylesheet">
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    :root {
      --primary: #c5a3ff;
      --primary-dark: #9d7ae8;
      --primary-light: #d8c2ff;
      --accent: #a68cff;
      --bg-dark: #0a0a0a;
      --bg-medium: #1a1a1a;
      --bg-light: #2a2a2a;
      --text: #f0f0f0;
      --text-dim: #aaa;
      --error: #ff6b6b;
      --success: #51cf66;
      --transition-fast: 0.15s cubic-bezier(0.4, 0, 0.2, 1);
      --transition-base: 0.3s cubic-bezier(0.4, 0, 0.2, 1);
      --transition-slow: 0.5s cubic-bezier(0.4, 0, 0.2, 1);
      --transition-bounce: 0.6s cubic-bezier(0.68, -0.55, 0.265, 1.55);
    }

    body {
      margin: 0;
      font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
      background: var(--bg-dark);
      color: var(--text);
      min-height: 100vh;
      overflow-x: hidden;
      position: relative;
      scroll-behavior: smooth;
      -webkit-font-smoothing: antialiased;
      -moz-osx-font-smoothing: grayscale;
    }

    /* Multi-layer animated background */
    body::before {
      content: '';
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: 
        radial-gradient(circle at 20% 30%, rgba(197, 163, 255, 0.15) 0%, transparent 40%),
        radial-gradient(circle at 80% 70%, rgba(166, 140, 255, 0.12) 0%, transparent 40%),
        radial-gradient(circle at 50% 50%, rgba(213, 194, 255, 0.05) 0%, transparent 60%),
        linear-gradient(135deg, #0d0d0d 0%, #1a1a1a 30%, #0f0f0f 60%, #1a1a1a 100%);
      background-size: 200% 200%, 250% 250%, 300% 300%, 150% 150%;
      animation: gradientShift 20s ease infinite;
      z-index: -2;
      will-change: background-position;
    }

    body::after {
      content: '';
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: 
        radial-gradient(circle at 60% 20%, rgba(197, 163, 255, 0.08) 0%, transparent 50%),
        radial-gradient(circle at 30% 80%, rgba(166, 140, 255, 0.06) 0%, transparent 50%);
      background-size: 300% 300%, 250% 250%;
      animation: gradientShiftReverse 25s ease infinite;
      z-index: -1;
      opacity: 0.7;
      will-change: background-position;
    }

    @keyframes gradientShift {
      0%, 100% { background-position: 0% 50%, 50% 0%, 0% 100%, 0% 0%; }
      33% { background-position: 100% 100%, 0% 50%, 50% 0%, 50% 50%; }
      66% { background-position: 50% 0%, 100% 100%, 100% 50%, 100% 100%; }
    }

    @keyframes gradientShiftReverse {
      0%, 100% { background-position: 100% 0%, 0% 100%; }
      50% { background-position: 0% 100%, 100% 0%; }
    }

    /* Enhanced floating particles with glow */
    .particle {
      position: fixed;
      width: 3px;
      height: 3px;
      background: var(--primary);
      border-radius: 50%;
      opacity: 0.4;
      animation: float 25s infinite linear;
      z-index: -1;
      will-change: transform, opacity;
      box-shadow: 0 0 6px var(--primary), 0 0 12px rgba(197, 163, 255, 0.3);
    }

    .particle:nth-child(3n) {
      width: 2px;
      height: 2px;
      opacity: 0.3;
      animation-duration: 30s;
    }

    .particle:nth-child(5n) {
      width: 4px;
      height: 4px;
      opacity: 0.5;
      animation-duration: 20s;
      box-shadow: 0 0 8px var(--primary), 0 0 16px rgba(197, 163, 255, 0.4);
    }

    @keyframes float {
      0% {
        transform: translateY(100vh) translateX(0) rotate(0deg) scale(0.5);
        opacity: 0;
      }
      10% {
        opacity: 0.4;
      }
      90% {
        opacity: 0.4;
      }
      100% {
        transform: translateY(-100vh) translateX(150px) rotate(720deg) scale(1);
        opacity: 0;
      }
    }

    .container {
      max-width: 1200px;
      margin: 0 auto;
      padding: 3rem 2rem;
      position: relative;
      z-index: 1;
    }

    header {
      text-align: center;
      margin-bottom: 4rem;
      animation: fadeInDown 1.2s cubic-bezier(0.4, 0, 0.2, 1) both;
      position: relative;
    }

    @keyframes fadeInDown {
      from {
        opacity: 0;
        transform: translateY(-40px);
      }
      to {
        opacity: 1;
        transform: translateY(0);
      }
    }

    header h1 {
      font-family: 'Playfair Display', serif;
      font-size: clamp(2.5rem, 5vw, 4.5rem);
      font-weight: 700;
      letter-spacing: 3px;
      background: linear-gradient(135deg, var(--primary) 0%, var(--primary-light) 35%, var(--accent) 65%, var(--primary) 100%);
      background-size: 200% 200%;
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-clip: text;
      margin-bottom: 1.5rem;
      position: relative;
      display: inline-block;
      cursor: default;
      transition: transform var(--transition-base);
      animation: titleGlow 3s ease-in-out infinite;
    }

    @keyframes titleGlow {
      0%, 100% {
        background-position: 0% 50%;
        filter: drop-shadow(0 0 20px rgba(197, 163, 255, 0.3));
      }
      50% {
        background-position: 100% 50%;
        filter: drop-shadow(0 0 40px rgba(197, 163, 255, 0.5));
      }
    }

    header h1:hover {
      transform: scale(1.03);
    }

    header h1::before {
      content: '';
      position: absolute;
      top: -10px;
      left: -10px;
      right: -10px;
      bottom: -10px;
      background: radial-gradient(circle, rgba(197, 163, 255, 0.2), transparent 70%);
      border-radius: 50%;
      opacity: 0;
      transition: opacity var(--transition-base);
      z-index: -1;
    }

    header h1:hover::before {
      opacity: 1;
    }

    header h1::after {
      content: '';
      position: absolute;
      bottom: -15px;
      left: 50%;
      transform: translateX(-50%);
      width: 0;
      height: 3px;
      background: linear-gradient(90deg, transparent, var(--primary), var(--accent), var(--primary), transparent);
      background-size: 200% 100%;
      animation: expandLine 2s cubic-bezier(0.4, 0, 0.2, 1) 0.5s both, shimmerLine 3s ease-in-out infinite 2.5s;
      border-radius: 2px;
      box-shadow: 0 0 10px var(--primary);
    }

    @keyframes expandLine {
      from {
        width: 0;
        opacity: 0;
      }
      to {
        width: 70%;
        opacity: 1;
      }
    }

    @keyframes shimmerLine {
      0%, 100% {
        background-position: 0% 50%;
      }
      50% {
        background-position: 100% 50%;
      }
    }

    .tagline {
      color: var(--primary-light);
      font-style: italic;
      font-size: clamp(1rem, 2vw, 1.3rem);
      margin-top: 2rem;
      opacity: 0;
      letter-spacing: 1px;
      animation: fadeInUp 1.5s cubic-bezier(0.4, 0, 0.2, 1) 0.8s both;
      text-shadow: 0 2px 10px rgba(197, 163, 255, 0.3);
      line-height: 1.6;
    }

    @keyframes fadeInUp {
      from {
        opacity: 0;
        transform: translateY(20px);
      }
      to {
        opacity: 0.95;
        transform: translateY(0);
      }
    }

    .hero-container {
      position: relative;
      margin: 4rem 0;
      animation: fadeInUp 1s cubic-bezier(0.4, 0, 0.2, 1) 0.6s both;
    }

    .hero-img-wrapper {
      position: relative;
      width: 100%;
      max-width: 1000px;
      margin: 0 auto;
      border-radius: 24px;
      overflow: hidden;
      box-shadow: 
        0 25px 80px rgba(0, 0, 0, 0.6),
        0 0 60px rgba(197, 163, 255, 0.25),
        inset 0 0 120px rgba(197, 163, 255, 0.08);
      transition: transform var(--transition-slow), box-shadow var(--transition-slow);
      will-change: transform;
      border: 2px solid rgba(197, 163, 255, 0.1);
    }

    .hero-img-wrapper::before {
      content: '';
      position: absolute;
      top: 0;
      left: -100%;
      width: 100%;
      height: 100%;
      background: linear-gradient(90deg, transparent, rgba(197, 163, 255, 0.2), transparent);
      z-index: 2;
      transition: left 0.6s ease;
    }

    .hero-img-wrapper:hover::before {
      left: 100%;
    }

    .hero-img-wrapper:hover {
      transform: translateY(-8px) scale(1.01);
      box-shadow: 
        0 30px 100px rgba(0, 0, 0, 0.7),
        0 0 80px rgba(197, 163, 255, 0.35),
        inset 0 0 120px rgba(197, 163, 255, 0.12);
      border-color: rgba(197, 163, 255, 0.25);
    }

    .hero-img {
      width: 100%;
      height: auto;
      display: block;
      transition: transform var(--transition-slow);
      filter: brightness(0.95) contrast(1.05);
    }

    .hero-img-wrapper:hover .hero-img {
      transform: scale(1.06);
      filter: brightness(1) contrast(1.1);
    }

    .img-overlay {
      position: absolute;
      bottom: 0;
      left: 0;
      right: 0;
      height: 45%;
      background: linear-gradient(to top, rgba(10, 10, 10, 0.95) 0%, rgba(10, 10, 10, 0.5) 50%, transparent 100%);
      pointer-events: none;
      z-index: 1;
    }

    /* Premium Audio Player */
    .audio-player-container {
      margin: 3rem auto;
      max-width: 750px;
      animation: fadeInUp 1s cubic-bezier(0.4, 0, 0.2, 1) 0.9s both;
    }

    .audio-wrapper {
      background: rgba(255, 255, 255, 0.04);
      -webkit-backdrop-filter: blur(30px) saturate(180%);
      backdrop-filter: blur(30px) saturate(180%);
      border: 2px solid rgba(197, 163, 255, 0.25);
      border-radius: 24px;
      padding: 2.5rem;
      box-shadow: 
        0 15px 50px rgba(0, 0, 0, 0.4),
        0 0 40px rgba(197, 163, 255, 0.15),
        inset 0 1px 0 rgba(255, 255, 255, 0.12),
        inset 0 -1px 0 rgba(0, 0, 0, 0.2);
      transition: all var(--transition-base);
      position: relative;
      overflow: hidden;
    }

    .audio-wrapper::before {
      content: '';
      position: absolute;
      top: 0;
      left: -100%;
      width: 100%;
      height: 100%;
      background: linear-gradient(90deg, transparent, rgba(197, 163, 255, 0.15), transparent);
      transition: left 0.8s ease;
      z-index: 0;
    }

    .audio-wrapper.playing::before {
      left: 100%;
      animation: shimmer 2s ease-in-out infinite;
    }

    @keyframes shimmer {
      0% { left: -100%; }
      100% { left: 100%; }
    }

    .audio-wrapper > * {
      position: relative;
      z-index: 1;
    }

    .audio-wrapper:hover {
      border-color: rgba(197, 163, 255, 0.45);
      box-shadow: 
        0 20px 60px rgba(0, 0, 0, 0.5),
        0 0 50px rgba(197, 163, 255, 0.25),
        inset 0 1px 0 rgba(255, 255, 255, 0.18),
        inset 0 -1px 0 rgba(0, 0, 0, 0.3);
      transform: translateY(-3px);
    }

    /* Advanced Audio Visualization */
    .audio-visualizer {
      display: flex;
      align-items: flex-end;
      justify-content: center;
      gap: 5px;
      height: 80px;
      margin-bottom: 1.5rem;
      opacity: 0;
      transition: opacity var(--transition-base);
      padding: 0 1rem;
    }

    .audio-visualizer.active {
      opacity: 1;
    }

    .visualizer-bar {
      width: 5px;
      background: linear-gradient(180deg, var(--primary) 0%, var(--accent) 50%, var(--primary-light) 100%);
      border-radius: 3px 3px 0 0;
      min-height: 8px;
      transition: height var(--transition-fast);
      box-shadow: 0 -2px 8px rgba(197, 163, 255, 0.4);
      position: relative;
    }

    .visualizer-bar::after {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      height: 100%;
      background: linear-gradient(180deg, var(--primary-light) 0%, transparent 100%);
      opacity: 0.6;
      border-radius: 3px 3px 0 0;
    }

    .loading-state {
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 0.75rem;
      margin-bottom: 1.5rem;
      color: var(--primary-light);
      font-size: 0.95rem;
      opacity: 0;
      transition: opacity var(--transition-base);
      font-weight: 500;
    }

    .loading-state.active {
      opacity: 1;
    }

    .loading-dot {
      width: 8px;
      height: 8px;
      background: var(--primary);
      border-radius: 50%;
      animation: loadingBounce 1.6s cubic-bezier(0.4, 0, 0.2, 1) infinite;
      box-shadow: 0 0 8px var(--primary);
    }

    .loading-dot:nth-child(2) {
      animation-delay: 0.2s;
    }

    .loading-dot:nth-child(3) {
      animation-delay: 0.4s;
    }

    .loading-dot:nth-child(4) {
      animation-delay: 0.6s;
    }

    @keyframes loadingBounce {
      0%, 80%, 100% {
        transform: scale(0.3) translateY(0);
        opacity: 0.5;
      }
      40% {
        transform: scale(1.2) translateY(-8px);
        opacity: 1;
      }
    }

    audio {
      width: 100%;
      outline: none;
      filter: drop-shadow(0 6px 12px rgba(0, 0, 0, 0.4));
      display: block;
      cursor: pointer;
      border-radius: 12px;
      overflow: hidden;
    }

    audio:focus-visible {
      outline: 3px solid var(--primary);
      outline-offset: 3px;
      border-radius: 12px;
    }

    audio::-webkit-media-controls-panel {
      background-color: rgba(26, 26, 26, 0.95);
      border-radius: 12px;
    }

    audio::-webkit-media-controls-play-button {
      background-color: var(--primary);
      border-radius: 50%;
      transition: transform var(--transition-base);
      box-shadow: 0 2px 8px rgba(197, 163, 255, 0.4);
    }

    audio::-webkit-media-controls-play-button:hover {
      transform: scale(1.15);
      box-shadow: 0 4px 12px rgba(197, 163, 255, 0.6);
    }

    audio::-webkit-media-controls-current-time-display,
    audio::-webkit-media-controls-time-remaining-display {
      color: var(--primary-light);
      font-weight: 500;
    }

    audio::-webkit-media-controls-timeline {
      border-radius: 6px;
      margin-left: 12px;
      margin-right: 12px;
    }

    audio::-webkit-media-controls-volume-slider {
      background-color: var(--primary);
    }

    .playback-info {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-top: 1.5rem;
      font-size: 0.95rem;
      color: var(--text-dim);
      opacity: 0;
      transition: opacity var(--transition-base);
      font-weight: 500;
    }

    .playback-info.visible {
      opacity: 1;
    }

    .playback-status {
      display: flex;
      align-items: center;
      gap: 0.75rem;
    }

    .playing-indicator {
      width: 10px;
      height: 10px;
      background: var(--primary);
      border-radius: 50%;
      animation: pulseAdvanced 2s cubic-bezier(0.4, 0, 0.2, 1) infinite;
      opacity: 0;
      box-shadow: 0 0 12px var(--primary);
    }

    .playing-indicator.active {
      opacity: 1;
    }

    @keyframes pulseAdvanced {
      0%, 100% {
        transform: scale(1);
        opacity: 1;
        box-shadow: 0 0 12px var(--primary), 0 0 24px rgba(197, 163, 255, 0.4);
      }
      50% {
        transform: scale(1.4);
        opacity: 0.8;
        box-shadow: 0 0 20px var(--primary), 0 0 40px rgba(197, 163, 255, 0.6);
      }
    }

    /* Premium Lyrics Section */
    .lyrics {
      background: rgba(255, 255, 255, 0.03);
      -webkit-backdrop-filter: blur(30px) saturate(180%);
      backdrop-filter: blur(30px) saturate(180%);
      border: 2px solid rgba(197, 163, 255, 0.2);
      border-radius: 24px;
      padding: 3rem;
      max-width: 920px;
      margin: 0 auto;
      max-height: 68vh;
      overflow-y: auto;
      white-space: pre-wrap;
      line-height: 2;
      box-shadow: 
        0 15px 50px rgba(0, 0, 0, 0.4),
        0 0 40px rgba(197, 163, 255, 0.12),
        inset 0 1px 0 rgba(255, 255, 255, 0.08),
        inset 0 -1px 0 rgba(0, 0, 0, 0.2);
      animation: fadeInUp 1s cubic-bezier(0.4, 0, 0.2, 1) 1.1s both;
      transition: all var(--transition-base);
      scroll-behavior: smooth;
      scrollbar-width: thin;
      scrollbar-color: var(--primary) rgba(0, 0, 0, 0.3);
      position: relative;
    }

    .lyrics::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      height: 60px;
      background: linear-gradient(to bottom, rgba(10, 10, 10, 0.8), transparent);
      pointer-events: none;
      z-index: 1;
      border-radius: 24px 24px 0 0;
    }

    .lyrics::after {
      content: '';
      position: absolute;
      bottom: 0;
      left: 0;
      right: 0;
      height: 60px;
      background: linear-gradient(to top, rgba(10, 10, 10, 0.8), transparent);
      pointer-events: none;
      z-index: 1;
      border-radius: 0 0 24px 24px;
    }

    .lyrics:hover {
      border-color: rgba(197, 163, 255, 0.3);
      box-shadow: 
        0 20px 60px rgba(0, 0, 0, 0.5),
        0 0 50px rgba(197, 163, 255, 0.18),
        inset 0 1px 0 rgba(255, 255, 255, 0.12),
        inset 0 -1px 0 rgba(0, 0, 0, 0.3);
    }

    .lyrics::-webkit-scrollbar {
      width: 10px;
    }

    .lyrics::-webkit-scrollbar-track {
      background: rgba(0, 0, 0, 0.3);
      border-radius: 10px;
      margin: 10px 0;
    }

    .lyrics::-webkit-scrollbar-thumb {
      background: linear-gradient(180deg, var(--primary) 0%, var(--accent) 50%, var(--primary-light) 100%);
      border-radius: 10px;
      transition: background var(--transition-base);
      box-shadow: 0 0 8px rgba(197, 163, 255, 0.4);
    }

    .lyrics::-webkit-scrollbar-thumb:hover {
      background: linear-gradient(180deg, var(--primary-light) 0%, var(--primary) 50%, var(--accent) 100%);
      box-shadow: 0 0 12px rgba(197, 163, 255, 0.6);
    }

    .lyrics strong {
      color: var(--primary-light);
      font-weight: 600;
      font-size: 1.15em;
      display: inline-block;
      margin-top: 2rem;
      margin-bottom: 0.75rem;
      transition: all var(--transition-base);
      position: relative;
      letter-spacing: 0.5px;
    }

    .lyrics strong:first-child {
      margin-top: 0.5rem;
    }

    .lyrics strong::before {
      content: '';
      position: absolute;
      left: -1rem;
      top: 50%;
      transform: translateY(-50%);
      width: 4px;
      height: 0;
      background: linear-gradient(180deg, var(--primary), var(--accent));
      border-radius: 2px;
      transition: height var(--transition-base);
      box-shadow: 0 0 8px var(--primary);
    }

    .lyrics strong.highlight,
    .lyrics strong:has(+ .lyrics-line.active) {
      color: var(--primary);
      text-shadow: 0 0 15px rgba(197, 163, 255, 0.6);
    }

    .lyrics strong:has(+ .lyrics-line.active)::before {
      height: 80%;
    }

    .lyrics-line {
      transition: all var(--transition-base);
      padding: 0.4rem 0.5rem;
      border-radius: 6px;
      display: inline-block;
      cursor: pointer;
      margin: 0.2rem 0;
      position: relative;
    }

    .lyrics-line:hover {
      background: rgba(197, 163, 255, 0.05);
      transform: translateX(4px);
    }

    .lyrics-line.active {
      background: linear-gradient(90deg, rgba(197, 163, 255, 0.15) 0%, rgba(197, 163, 255, 0.08) 100%);
      padding-left: 1.25rem;
      transform: translateX(8px);
      color: var(--primary-light);
      text-shadow: 0 0 10px rgba(197, 163, 255, 0.4);
      font-weight: 500;
      border-left: 3px solid var(--primary);
    }

    .lyrics-line.active::before {
      content: '♪';
      position: absolute;
      left: 0.5rem;
      color: var(--primary);
      font-size: 1.2em;
      animation: musicNote 0.6s ease-in-out;
    }

    @keyframes musicNote {
      0%, 100% {
        transform: scale(1) rotate(0deg);
      }
      50% {
        transform: scale(1.3) rotate(-15deg);
      }
    }

    footer {
      margin-top: 4rem;
      text-align: center;
      font-size: 1rem;
      color: var(--text-dim);
      animation: fadeIn 1s cubic-bezier(0.4, 0, 0.2, 1) 1.3s both;
      padding: 3rem 0;
      position: relative;
    }

    footer::before {
      content: '';
      position: absolute;
      top: 0;
      left: 50%;
      transform: translateX(-50%);
      width: 200px;
      height: 1px;
      background: linear-gradient(90deg, transparent, rgba(197, 163, 255, 0.3), transparent);
    }

    footer .tagline {
      display: block;
      margin-top: 1rem;
      font-size: 0.95rem;
      opacity: 0.8;
    }

    .audio-error {
      display: none;
      color: var(--error);
      margin-top: 1rem;
      text-align: center;
      font-size: 0.95rem;
      padding: 1rem;
      background: rgba(255, 107, 107, 0.12);
      border-radius: 12px;
      border: 2px solid rgba(255, 107, 107, 0.3);
      animation: shake 0.6s cubic-bezier(0.4, 0, 0.2, 1);
      font-weight: 500;
    }

    @keyframes shake {
      0%, 100% { transform: translateX(0) rotate(0deg); }
      25% { transform: translateX(-8px) rotate(-2deg); }
      75% { transform: translateX(8px) rotate(2deg); }
    }

    /* Responsive Design */
    @media (max-width: 768px) {
      .container {
        padding: 2rem 1rem;
      }

      header {
        margin-bottom: 3rem;
      }

      .hero-img-wrapper,
      .audio-wrapper,
      .lyrics {
        border-radius: 20px;
      }

      .audio-wrapper {
        padding: 2rem 1.5rem;
      }

      .lyrics {
        padding: 2rem 1.5rem;
        max-height: 60vh;
      }

      .audio-visualizer {
        height: 60px;
        gap: 4px;
      }

      .visualizer-bar {
        width: 4px;
      }
    }

    @media (max-width: 480px) {
      header h1 {
        font-size: 2rem;
        letter-spacing: 2px;
      }

      .tagline {
        font-size: 0.9rem;
      }

      .playback-info {
        flex-direction: column;
        gap: 0.5rem;
        align-items: flex-start;
      }
    }

    /* Reduced motion preferences */
    @media (prefers-reduced-motion: reduce) {
      *,
      *::before,
      *::after {
        animation-duration: 0.01ms !important;
        animation-iteration-count: 1 !important;
        transition-duration: 0.01ms !important;
      }
    }

    /* Focus visible styles for accessibility */
    *:focus-visible {
      outline: 3px solid var(--primary);
      outline-offset: 3px;
      border-radius: 4px;
    }

    /* Selection styles */
    ::selection {
      background: rgba(197, 163, 255, 0.3);
      color: var(--text);
    }

    ::-moz-selection {
      background: rgba(197, 163, 255, 0.3);
      color: var(--text);
    }
  </style>
</head>
<body>
  <!-- Animated particles -->
  <div id="particles" aria-hidden="true"></div>

  <div class="container">
    <header>
      <h1>Echo Room</h1>
      <div class="tagline">"The silence in that place echoes something we still carry."</div>
    </header>

    <div class="hero-container">
      <div class="hero-img-wrapper">
        <img class="hero-img" src="floor.jpeg" alt="Empty Call Center Floor" loading="lazy" />
        <div class="img-overlay"></div>
      </div>
    </div>

    <div class="audio-player-container">
      <div class="audio-wrapper" id="audioWrapper">
        <div class="loading-state" id="loadingState">
          <span>Loading audio</span>
          <span class="loading-dot"></span>
          <span class="loading-dot"></span>
          <span class="loading-dot"></span>
          <span class="loading-dot"></span>
        </div>
        <div class="audio-visualizer" id="audioVisualizer" aria-label="Audio visualization">
          <div class="visualizer-bar"></div>
          <div class="visualizer-bar"></div>
          <div class="visualizer-bar"></div>
          <div class="visualizer-bar"></div>
          <div class="visualizer-bar"></div>
          <div class="visualizer-bar"></div>
          <div class="visualizer-bar"></div>
          <div class="visualizer-bar"></div>
          <div class="visualizer-bar"></div>
          <div class="visualizer-bar"></div>
          <div class="visualizer-bar"></div>
          <div class="visualizer-bar"></div>
          <div class="visualizer-bar"></div>
          <div class="visualizer-bar"></div>
          <div class="visualizer-bar"></div>
        </div>
        <audio id="audioPlayer" controls preload="auto" aria-label="Echo Room audio player">
          <source src="EchoRoom.mp3" type="audio/mpeg">
          <source src="EchoRoom.mp3" type="audio/mp3">
          Your browser does not support the audio element.
        </audio>
        <div class="playback-info" id="playbackInfo">
          <span class="playback-status">
            <span class="playing-indicator" id="playingIndicator"></span>
            <span id="statusText">Ready to play</span>
          </span>
          <span id="timeInfo"></span>
        </div>
        <div id="audioError" class="audio-error" role="alert"></div>
      </div>
    </div>

    <section class="lyrics" id="lyricsSection" aria-label="Song lyrics">
      <strong data-section="verse1">[Verse 1]</strong><br>
      <span class="lyrics-line" data-time="0">Floors stripped bare, lights still hum,</span><br>
      <span class="lyrics-line" data-time="3">Air smells like nothing and everything at once.</span><br>
      <span class="lyrics-line" data-time="6">That space, once filled with noise and motion,</span><br>
      <span class="lyrics-line" data-time="9">Now waits, like a lung with no breath to hold.</span><br><br>

      <strong data-section="prechorus1">[Pre-Chorus]</strong><br>
      <span class="lyrics-line" data-time="12">It doesn't take much—a photo, a glimpse,</span><br>
      <span class="lyrics-line" data-time="15">To feel it pull, like gravity on my ribs.</span><br><br>

      <strong data-section="chorus1">[Chorus]</strong><br>
      <span class="lyrics-line" data-time="18">The emptiness there calls to the emptiness here,</span><br>
      <span class="lyrics-line" data-time="21">Like a room looking for its old shape to reappear.</span><br>
      <span class="lyrics-line" data-time="24">No words, no echo, just a signal clear—</span><br>
      <span class="lyrics-line" data-time="27">I feel it ring, and I hear.</span><br><br>

      <strong data-section="verse2">[Verse 2]</strong><br>
      <span class="lyrics-line" data-time="30">We built rhythm in the chaos, stacked hours into days,</span><br>
      <span class="lyrics-line" data-time="33">Hung laughter on breakroom walls, took pride in the haze.</span><br>
      <span class="lyrics-line" data-time="36">Now it's clean, too clean. Like it never held weight.</span><br>
      <span class="lyrics-line" data-time="39">But silence has a memory—and it doesn't wait.</span><br><br>

      <strong data-section="prechorus2">[Pre-Chorus 2]</strong><br>
      <span class="lyrics-line" data-time="42">Stripped down, it's still loud.</span><br>
      <span class="lyrics-line" data-time="45">Every empty chair speaks out loud.</span><br><br>

      <strong data-section="chorus2">[Chorus]</strong><br>
      <span class="lyrics-line" data-time="48">The emptiness there calls to the emptiness here,</span><br>
      <span class="lyrics-line" data-time="51">Not with pain, but with something unclear.</span><br>
      <span class="lyrics-line" data-time="54">It doesn't beg, doesn't plead—just appears.</span><br>
      <span class="lyrics-line" data-time="57">And in that quiet, I hear.</span><br><br>

      <strong data-section="bridge">[Bridge]</strong><br>
      <span class="lyrics-line" data-time="60">Buildings remember.</span><br>
      <span class="lyrics-line" data-time="63">Rooms breathe.</span><br>
      <span class="lyrics-line" data-time="66">Some spaces search for a likeness to feed.</span><br>
      <span class="lyrics-line" data-time="69">And maybe the quiet in me...</span><br><br>

      <strong data-section="breakdown">[Breakdown]</strong><br>
      <span class="lyrics-line" data-time="72">…wasn't mine alone.</span><br>
      <span class="lyrics-line" data-time="75">It belonged to that place.</span><br>
      <span class="lyrics-line" data-time="78">And when it emptied out,</span><br>
      <span class="lyrics-line" data-time="81">It left a shape in my space.</span><br><br>

      <strong data-section="finalchorus">[Final Chorus]</strong><br>
      <span class="lyrics-line" data-time="84">Yeah, the emptiness there still calls to the emptiness here.</span><br>
      <span class="lyrics-line" data-time="87">But maybe now I just let it disappear.</span><br>
      <span class="lyrics-line" data-time="90">No need to return, no need to steer—</span><br>
      <span class="lyrics-line" data-time="93">I felt it ring. I heard. I'm clear.</span><br><br>

      <strong data-section="outro">[Outro]</strong><br>
      <span class="lyrics-line" data-time="96">One last echo, then silence.</span><br>
      <span class="lyrics-line" data-time="99">Not lost. Just... passed through.</span>
    </section>

    <footer>
      EchoVerse Audio | An AeroVista Project<br/>
      <span class="tagline">Where Vision Takes Flight</span>
    </footer>
  </div>

  <script>
    // Enhanced particle system
    function createParticles() {
      const container = document.getElementById('particles');
      const particleCount = 40;
      const particleTypes = [1, 1.5, 2, 3]; // Different sizes

      for (let i = 0; i < particleCount; i++) {
        const particle = document.createElement('div');
        particle.className = 'particle';
        const size = particleTypes[Math.floor(Math.random() * particleTypes.length)];
        particle.style.width = size + 'px';
        particle.style.height = size + 'px';
        particle.style.left = Math.random() * 100 + '%';
        particle.style.animationDelay = Math.random() * 25 + 's';
        particle.style.animationDuration = (18 + Math.random() * 20) + 's';
        container.appendChild(particle);
      }
    }

    // Premium Audio Player with advanced visualization
    class AudioPlayerController {
      constructor() {
        this.audioPlayer = document.getElementById('audioPlayer');
        this.audioWrapper = document.getElementById('audioWrapper');
        this.audioVisualizer = document.getElementById('audioVisualizer');
        this.loadingState = document.getElementById('loadingState');
        this.playbackInfo = document.getElementById('playbackInfo');
        this.playingIndicator = document.getElementById('playingIndicator');
        this.statusText = document.getElementById('statusText');
        this.timeInfo = document.getElementById('timeInfo');
        this.errorDiv = document.getElementById('audioError');
        this.lyricsLines = document.querySelectorAll('.lyrics-line');
        this.lyricsSection = document.getElementById('lyricsSection');
        
        this.isPlaying = false;
        this.currentTime = 0;
        this.visualizerAnimation = null;
        this.animationFrame = null;
        
        this.init();
      }

      init() {
        if (!this.audioPlayer) return;

        // Event listeners
        this.audioPlayer.addEventListener('loadstart', () => this.handleLoadStart());
        this.audioPlayer.addEventListener('loadeddata', () => this.handleLoaded());
        this.audioPlayer.addEventListener('canplay', () => this.handleCanPlay());
        this.audioPlayer.addEventListener('play', () => this.handlePlay());
        this.audioPlayer.addEventListener('pause', () => this.handlePause());
        this.audioPlayer.addEventListener('timeupdate', () => this.handleTimeUpdate());
        this.audioPlayer.addEventListener('ended', () => this.handleEnded());
        this.audioPlayer.addEventListener('error', (e) => this.handleError(e));
        this.audioPlayer.addEventListener('waiting', () => this.handleWaiting());
        this.audioPlayer.addEventListener('playing', () => this.handlePlaying());
        this.audioPlayer.addEventListener('progress', () => this.handleProgress());

        // Keyboard controls
        document.addEventListener('keydown', (e) => this.handleKeyboard(e));

        // Intersection Observer for performance
        this.setupIntersectionObserver();

        // Try to load the audio
        this.audioPlayer.load();
      }

      setupIntersectionObserver() {
        const observer = new IntersectionObserver((entries) => {
          entries.forEach(entry => {
            if (!entry.isIntersecting && this.isPlaying) {
              // Pause visualization when out of view for performance
              this.optimizeVisualization(false);
            } else {
              this.optimizeVisualization(true);
            }
          });
        }, { threshold: 0.1 });

        if (this.audioWrapper) {
          observer.observe(this.audioWrapper);
        }
      }

      optimizeVisualization(active) {
        if (!active && this.visualizerAnimation) {
          // Reduce animation frequency when not visible
          this.animationSlowdown = true;
        } else {
          this.animationSlowdown = false;
        }
      }

      handleLoadStart() {
        this.loadingState.classList.add('active');
        this.playbackInfo.classList.remove('visible');
      }

      handleLoaded() {
        this.loadingState.classList.remove('active');
        this.errorDiv.style.display = 'none';
        this.updateStatus('Ready to play');
      }

      handleCanPlay() {
        this.loadingState.classList.remove('active');
        this.playbackInfo.classList.add('visible');
      }

      handleProgress() {
        if (this.audioPlayer.buffered.length > 0) {
          const buffered = this.audioPlayer.buffered.end(0);
          const duration = this.audioPlayer.duration;
          if (duration > 0) {
            const percent = (buffered / duration) * 100;
            // Could add buffer visualization here
          }
        }
      }

      handlePlay() {
        this.isPlaying = true;
        this.audioWrapper.classList.add('playing');
        this.audioVisualizer.classList.add('active');
        this.playingIndicator.classList.add('active');
        this.updateStatus('Playing');
        this.startVisualizer();
      }

      handlePause() {
        this.isPlaying = false;
        this.audioWrapper.classList.remove('playing');
        this.playingIndicator.classList.remove('active');
        this.updateStatus('Paused');
        this.stopVisualizer();
      }

      handlePlaying() {
        this.loadingState.classList.remove('active');
      }

      handleWaiting() {
        this.loadingState.classList.add('active');
        this.updateStatus('Buffering...');
      }

      handleTimeUpdate() {
        this.currentTime = this.audioPlayer.currentTime;
        this.updateTimeInfo();
        this.highlightLyrics();
      }

      handleEnded() {
        this.isPlaying = false;
        this.audioWrapper.classList.remove('playing');
        this.audioVisualizer.classList.remove('active');
        this.playingIndicator.classList.remove('active');
        this.updateStatus('Finished');
        this.stopVisualizer();
        this.resetLyricsHighlight();
        // Reset to beginning after a short delay
        setTimeout(() => {
          this.audioPlayer.currentTime = 0;
        }, 2000);
      }

      handleError(e) {
        this.errorDiv.style.display = 'block';
        this.loadingState.classList.remove('active');
        const error = this.audioPlayer.error;
        let message = 'Audio error: ';
        
        if (error) {
          switch (error.code) {
            case error.MEDIA_ERR_ABORTED:
              message += 'Playback aborted.';
              break;
            case error.MEDIA_ERR_NETWORK:
              message += 'Network error. Please check your connection.';
              break;
            case error.MEDIA_ERR_DECODE:
              message += 'Decoding error. File may be corrupted.';
              break;
            case error.MEDIA_ERR_SRC_NOT_SUPPORTED:
              message += 'Audio format not supported. File: EchoRoom.mp3 may be missing or corrupted.';
              break;
            default:
              message += 'Unknown error (' + error.code + ').';
          }
        } else {
          message += 'Unable to load audio file. Please check if EchoRoom.mp3 exists.';
        }
        
        this.errorDiv.textContent = message;
        console.error('Audio error:', error);
      }

      updateStatus(text) {
        this.statusText.textContent = text;
      }

      updateTimeInfo() {
        const current = this.formatTime(this.currentTime);
        const duration = this.formatTime(this.audioPlayer.duration || 0);
        const percent = this.audioPlayer.duration ? (this.currentTime / this.audioPlayer.duration * 100).toFixed(1) : 0;
        this.timeInfo.textContent = `${current} / ${duration} (${percent}%)`;
      }

      formatTime(seconds) {
        if (!isFinite(seconds)) return '0:00';
        const mins = Math.floor(seconds / 60);
        const secs = Math.floor(seconds % 60);
        return `${mins}:${secs.toString().padStart(2, '0')}`;
      }

      highlightLyrics() {
        let activeFound = false;
        this.lyricsLines.forEach((line, index) => {
          const time = parseFloat(line.getAttribute('data-time') || 0);
          const nextTime = this.lyricsLines[index + 1] 
            ? parseFloat(this.lyricsLines[index + 1].getAttribute('data-time') || Infinity)
            : Infinity;

          if (this.currentTime >= time && this.currentTime < nextTime && !activeFound) {
            line.classList.add('active');
            activeFound = true;
            
            // Auto-scroll to active line with better logic
            const rect = line.getBoundingClientRect();
            const containerRect = this.lyricsSection.getBoundingClientRect();
            
            if (rect.top < containerRect.top + 100 || rect.bottom > containerRect.bottom - 100) {
              line.scrollIntoView({ behavior: 'smooth', block: 'center' });
            }
          } else {
            line.classList.remove('active');
          }
        });
      }

      resetLyricsHighlight() {
        this.lyricsLines.forEach(line => line.classList.remove('active'));
      }

      startVisualizer() {
        if (this.visualizerAnimation) return;
        
        const bars = this.audioVisualizer.querySelectorAll('.visualizer-bar');
        let frame = 0;
        const baseFrequencies = Array.from({ length: bars.length }, (_, i) => 
          Math.random() * Math.PI * 2
        );
        
        const animate = () => {
          const speed = this.animationSlowdown ? 0.05 : 0.15;
          frame += speed;
          
          bars.forEach((bar, index) => {
            // More complex waveform for realistic visualization
            const wave1 = Math.sin(frame + baseFrequencies[index]);
            const wave2 = Math.sin(frame * 1.5 + baseFrequencies[index] * 2);
            const wave3 = Math.sin(frame * 0.7 + baseFrequencies[index] * 1.5);
            const combined = (wave1 + wave2 * 0.5 + wave3 * 0.3) / 1.8;
            
            const height = 15 + Math.abs(combined) * 45;
            const minHeight = 12;
            const maxHeight = 65;
            const finalHeight = Math.max(minHeight, Math.min(maxHeight, height));
            
            bar.style.height = `${finalHeight}px`;
            bar.style.transition = this.animationSlowdown ? 'height 0.3s ease' : 'none';
          });
          
          this.visualizerAnimation = requestAnimationFrame(animate);
        };
        
        animate();
      }

      stopVisualizer() {
        if (this.visualizerAnimation) {
          cancelAnimationFrame(this.visualizerAnimation);
          this.visualizerAnimation = null;
          const bars = this.audioVisualizer.querySelectorAll('.visualizer-bar');
          bars.forEach(bar => {
            bar.style.height = '8px';
            bar.style.transition = 'height 0.5s ease';
          });
        }
      }

      handleKeyboard(e) {
        // Space bar to play/pause (when not typing)
        if (e.code === 'Space' && document.activeElement.tagName !== 'INPUT' && 
            document.activeElement.tagName !== 'TEXTAREA' && document.activeElement.tagName !== 'AUDIO') {
          e.preventDefault();
          if (this.isPlaying) {
            this.audioPlayer.pause();
          } else {
            this.audioPlayer.play().catch(err => console.error('Play failed:', err));
          }
        }
        // Arrow keys for seeking
        if (e.code === 'ArrowLeft' && (e.ctrlKey || e.metaKey)) {
          e.preventDefault();
          this.audioPlayer.currentTime = Math.max(0, this.audioPlayer.currentTime - 10);
        }
        if (e.code === 'ArrowRight' && (e.ctrlKey || e.metaKey)) {
          e.preventDefault();
          this.audioPlayer.currentTime = Math.min(this.audioPlayer.duration, this.audioPlayer.currentTime + 10);
        }
        // Up/Down for volume
        if (e.code === 'ArrowUp' && (e.ctrlKey || e.metaKey)) {
          e.preventDefault();
          this.audioPlayer.volume = Math.min(1, this.audioPlayer.volume + 0.1);
        }
        if (e.code === 'ArrowDown' && (e.ctrlKey || e.metaKey)) {
          e.preventDefault();
          this.audioPlayer.volume = Math.max(0, this.audioPlayer.volume - 0.1);
        }
      }
    }

    // Initialize on load
    window.addEventListener('load', () => {
      createParticles();
      new AudioPlayerController();
    });

    // Enhanced lyric line interactions
    document.querySelectorAll('.lyrics-line').forEach(line => {
      line.addEventListener('click', (e) => {
        e.preventDefault();
        const time = parseFloat(line.getAttribute('data-time') || 0);
        const audioPlayer = document.getElementById('audioPlayer');
        if (audioPlayer && isFinite(time)) {
          audioPlayer.currentTime = time;
          if (audioPlayer.paused) {
            audioPlayer.play().catch(err => console.error('Play failed:', err));
          }
        }
      });

      // Add hover effect
      line.addEventListener('mouseenter', function() {
        if (!this.classList.contains('active')) {
          this.style.transform = 'translateX(4px)';
        }
      });

      line.addEventListener('mouseleave', function() {
        if (!this.classList.contains('active')) {
          this.style.transform = '';
        }
      });
    });

    // Performance optimization: throttle scroll events
    let scrollTimeout;
    window.addEventListener('scroll', () => {
      clearTimeout(scrollTimeout);
      scrollTimeout = setTimeout(() => {
        // Optional: pause heavy animations when scrolling
      }, 100);
    }, { passive: true });
  </script>
</body>
</html>

